(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{400:function(t,e,r){var content=r(404);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(49).default)("e430af72",content,!0,{sourceMap:!1})},403:function(t,e,r){"use strict";r(400)},404:function(t,e,r){(e=r(48)(!1)).push([t.i,".filter-calc-container[data-v-bea0ffa4]{height:100%}.filter-calc-container .desc-wrapper[data-v-bea0ffa4]{margin:0 auto 2vh;max-width:960px}.filter-calc-container .desc-wrapper .title-icon[data-v-bea0ffa4]{font-size:20px}.filter-calc-container .func-wrapper[data-v-bea0ffa4]{max-width:960px;margin:0 auto 18px;line-height:27px}.filter-calc-container .func-wrapper .title[data-v-bea0ffa4]{margin-right:24px}.filter-calc-container .func-wrapper .desc[data-v-bea0ffa4]{margin-left:24px}.filter-calc-container .func-wrapper .btn[data-v-bea0ffa4]{height:36px}.filter-calc-container .func-wrapper .color-box[data-v-bea0ffa4]{background-color:#000;width:36px;height:36px}",""]),t.exports=e},419:function(t,e,r){"use strict";r.r(e);r(65);var l=r(0),n=(r(36),r(116),r(9),r(19),r(35),r(39),r(207)),o=r(208),c=function(){function t(e,g,b){Object(n.a)(this,t),this.set(e,g,b)}return Object(o.a)(t,[{key:"toString",value:function(){return"rgb(".concat(Math.round(this.r),", ").concat(Math.round(this.g),", ").concat(Math.round(this.b),")")}},{key:"set",value:function(t,g,b){this.r=this.clamp(t),this.g=this.clamp(g),this.b=this.clamp(b)}},{key:"hueRotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=t/180*Math.PI;var e=Math.sin(t),r=Math.cos(t);this.multiply([.213+.787*r-.213*e,.715-.715*r-.715*e,.072-.072*r+.928*e,.213-.213*r+.143*e,.715+.285*r+.14*e,.072-.072*r-.283*e,.213-.213*r-.787*e,.715-.715*r+.715*e,.072+.928*r+.072*e])}},{key:"grayscale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t)])}},{key:"sepia",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}},{key:"saturate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}},{key:"multiply",value:function(t){var e=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),r=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),l=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=e,this.g=r,this.b=l}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(t)}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(t,-.5*t+.5)}},{key:"linear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.r=this.clamp(this.r*t+255*e),this.g=this.clamp(this.g*t+255*e),this.b=this.clamp(this.b*t+255*e)}},{key:"invert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))}},{key:"hsl",value:function(){var t,s,e=this.r/255,g=this.g/255,b=this.b/255,r=Math.max(e,g,b),l=Math.min(e,g,b),n=(r+l)/2;if(r===l)t=s=0;else{var o=r-l;switch(s=n>.5?o/(2-r-l):o/(r+l),r){case e:t=(g-b)/o+(g<b?6:0);break;case g:t=(b-e)/o+2;break;case b:t=(e-g)/o+4}t/=6}return{h:100*t,s:100*s,l:100*n}}},{key:"clamp",value:function(t){return t>255?t=255:t<0&&(t=0),t}}]),t}(),h=function(){function t(e,r){Object(n.a)(this,t),this.target=e,this.targetHSL=e.hsl(),this.reusedColor=new c(0,0,0)}return Object(o.a)(t,[{key:"solve",value:function(){var t=this.solveNarrow(this.solveWide());return{values:t.values,loss:t.loss,filter:this.css(t.values)}}},{key:"solveWide",value:function(){for(var a=[60,180,18e3,600,1.2,1.2],t={loss:1/0},i=0;t.loss>25&&i<3;i++){var e=this.spsa(5,a,15,[50,20,3750,50,100,100],1e3);e.loss<t.loss&&(t=e)}return t}},{key:"solveNarrow",value:function(t){var e=t.loss,r=e+1,a=[.25*r,.25*r,r,.25*r,.2*r,.2*r];return this.spsa(e,a,2,t.values,500)}},{key:"spsa",value:function(t,a,e,r,l){for(var n=null,o=1/0,c=new Array(6),h=new Array(6),v=new Array(6),f=0;f<l;f++){for(var d=e/Math.pow(f+1,.16666666666666666),i=0;i<6;i++)c[i]=Math.random()>.5?1:-1,h[i]=r[i]+d*c[i],v[i]=r[i]-d*c[i];for(var m=this.loss(h)-this.loss(v),w=0;w<6;w++){var g=m/(2*d)*c[w],y=a[w]/Math.pow(t+f+1,1);r[w]=x(r[w]-y*g,w)}var C=this.loss(r);C<o&&(n=r.slice(0),o=C)}return{values:n,loss:o};function x(t,e){var r=100;return 2===e?r=7500:4!==e&&5!==e||(r=200),3===e?t>r?t%=r:t<0&&(t=r+t%r):t<0?t=0:t>r&&(t=r),t}}},{key:"loss",value:function(t){var e=this.reusedColor;e.set(0,0,0),e.invert(t[0]/100),e.sepia(t[1]/100),e.saturate(t[2]/100),e.hueRotate(3.6*t[3]),e.brightness(t[4]/100),e.contrast(t[5]/100);var r=e.hsl();return Math.abs(e.r-this.target.r)+Math.abs(e.g-this.target.g)+Math.abs(e.b-this.target.b)+Math.abs(r.h-this.targetHSL.h)+Math.abs(r.s-this.targetHSL.s)+Math.abs(r.l-this.targetHSL.l)}},{key:"css",value:function(t){function e(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(t[e]*r)}return"filter: invert(".concat(e(0),"%) sepia(").concat(e(1),"%) saturate(").concat(e(2),"%) hue-rotate(").concat(e(3,3.6),"deg) brightness(").concat(e(4),"%) contrast(").concat(e(5),"%);")}}]),t}();var v=l.default.extend({data:function(){return{inputColor:"#000000",calcLoading:!1,filterResult:"",lossMsg:""}},methods:{handleCalcFilterValue:function(){this.calcLoading=!0;var t=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,g,b){return e+e+g+g+b+b}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}(this.inputColor),e=new c(t[0],t[1],t[2]),r=new h(e).solve();this.filterResult=r.filter,r.loss<1?this.lossMsg="This is a perfect result.":r.loss<5?this.lossMsg="The is close enough.":r.loss<15?this.lossMsg="The color is somewhat off. Consider running it again.":this.lossMsg="The color is extremely off. Run it again!",this.calcLoading=!1},handleClickDuplCss:function(){}}}),f=(r(403),r(52)),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"title",rawName:"v-title"}],staticClass:"filter-calc-container",attrs:{"data-title":"Calc Filter"}},[r("el-collapse",{staticClass:"desc-wrapper"},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-warning-outline title-icon"}),r("span",{staticStyle:{"margin-left":"8px"}},[t._v("About")])]),t._v(" "),r("div",[t._v("这个工具用来将黑色元素 使用css filter 转成任意一个指定的颜色")]),t._v(" "),r("div",[t._v("\n        算法："),r("a",{attrs:{href:"https://www.w3.org/TR/filter-effects-1/#feColorMatrixElement"}},[t._v("feColorMatrixElement")])]),t._v(" "),r("div",[t._v("使用场景：转换一个svg，png图表的颜色等")])],2)],1),t._v(" "),r("div",{staticClass:"func-wrapper flex"},[r("div",{staticClass:"title"},[t._v("目标:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.inputColor,expression:"inputColor"}],attrs:{type:"color"},domProps:{value:t.inputColor},on:{input:function(e){e.target.composing||(t.inputColor=e.target.value)}}}),t._v(" "),r("span",{staticClass:"desc"},[t._v(t._s(t.inputColor))])]),t._v(" "),r("div",{staticClass:"func-wrapper flex"},[r("div",{staticClass:"title"},[t._v("结果:")]),t._v(" "),r("div",{staticClass:"color-box",style:""+t.filterResult})]),t._v(" "),r("div",{staticClass:"func-wrapper flex"},[r("span",{on:{click:t.handleClickDuplCss}},[t._v(t._s(t.filterResult))])]),t._v(" "),r("div",{staticClass:"func-wrapper flex"},[r("span",[t._v(t._s(t.lossMsg))])]),t._v(" "),r("div",{staticClass:"func-wrapper flex"},[r("button",{staticClass:"btn",attrs:{disabled:t.calcLoading},on:{click:t.handleCalcFilterValue}},[t._v("\n      计算\n    ")])])],1)}),[],!1,null,"bea0ffa4",null);e.default=component.exports}}]);